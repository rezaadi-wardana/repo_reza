<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TUGAS</title>
</head>
<body>
    <script>
        function getProductsAmount(productsArr) {
            // Write your code here
            let result = {}
            let listProduk = productsArr.products
            for (let i = 0; i < listProduk.length; i++) {
                if (result[listProduk[i][0]] === undefined) {
                    result[listProduk[i][0]] = listProduk[i][1]
                    }
                }
            return result
            }
        function getTotalPrice(productsObj) {
            const listProduct = [
                ["Samsung A14 5G", 2600000],
                ["Redmi Note 12 Pro", 3900000],
                ["Realme C55", 2400000],
                ["Vivo V27 5G", 4500000],
                ["Infinix Smart 6", 1600000],
            ];
            // Write your code here
            let result = 0
            for (let key in productsObj) {
                for (let i = 0; i < listProduct.length; i++) {
                    if (key === listProduct[i][0]) {
                        result += productsObj[key] * listProduct[i][1]
                    }
                }
            }
        return result
        }
        function getDiscount(memberStatus, totalPrice) {
            // Write your code here
            let result = 0
            let discount = 0.1
            if (memberStatus === true) {
                    result = totalPrice - (totalPrice * discount)
                } else {
                    return totalPrice
                }
            return result
        }
        function shoppingTeros(customer) {
            // write your code here
            let productAmount = getProductsAmount(customer)
            let totalHarga = getTotalPrice(productAmount)
            let diskon = getDiscount(customer.member, totalHarga)
            if (customer.member === true) {
                    return `Hai pelanggan setia ${customer.name}! Total 
                    Harga yang harus kamu bayar adalah Rp ${diskon}`
                } else {
                    return `Hai ${customer.name}! Total Harga yang harus 
                    kamu bayar adalah Rp ${totalHarga}`
            }
        }
        let customer1 = {
            name: "Reza",
            products: [
                ["Redmi Note 12 Pro", 2],
                ["Samsung A14 5G", 1],
            ],
            member: true,
        };
        let customer2 = {
            name: "Adi",
            products: [
                ["Vivo V27 5G", 2],
                ["Infinix Smart 6", 5],
                ["Samsung A14 5G", 1],
            ],
            member: false,
        };
        let customer3 = {
            name: "Wardana",
            products: [["Realme C55", 1]],
            member: true,
        };
    // TEST CASES
    
    console.log(shoppingTeros(customer1)); // Hai pelanggan setia Reza! Total Harga yang harus kamu bayar adalah Rp 9360000
    console.log(shoppingTeros(customer2)); // Hai Adi! Total Harga yang harus kamu bayar adalah Rp 19600000
    console.log(shoppingTeros(customer3)); // Hai pelanggan setia Wardana! Total Harga yang harus kamu bayar adalah Rp 2160000

    </script>
</body>
</html>